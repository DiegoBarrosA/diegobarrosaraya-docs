<!DOCTYPE html>
<html lang="en">

<head>
  <meta name="description"
    content="Documentation and project notes by Diego Barros. Open-source, IT, and technical guides.">
  <meta name="author" content="Diego Barros">
  <meta property="og:title" content="Diego Barros Docs">
  <meta property="og:description"
    content="Documentation and project notes by Diego Barros. Open-source, IT, and technical guides.">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://docs.diegobarrosaraya.com/">
  <meta property="og:image" content="https://diegobarrosaraya.com/me.jpg">
  <!-- Analytics placeholder -->
  <!-- <script async src="https://www.googletagmanager.com/gtag/js?id=UA-XXXXXXX-X"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-XXXXXXX-X');
  </script> -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="https://diegobarrosa.github.io/diegobarrosaraya-assets/shared-theme.css">
  <link rel="stylesheet" href="https://diegobarrosa.github.io/diegobarrosaraya-assets/shared-footer.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
    crossorigin="anonymous">
  <script src="https://diegobarrosa.github.io/diegobarrosaraya-assets/shared-theme.js"></script>
  <title>Diego Barros Docs</title>
</head>

<body>
  <a href="#main-content" class="skip-link"
    style="position:absolute;left:-999px;top:auto;width:1px;height:1px;overflow:hidden;background:#212121;color:#fff;z-index:100;">Skip
    to main content</a>
  <nav class="main-nav" style="margin: 0 auto; max-width: 800px; padding: 20px 0 0 0; text-align: center;">
    <a href="https://diegobarrosaraya.com/"><i class="fa-solid fa-house"></i> Home</a> |
    <a href="https://blog.diegobarrosaraya.com/"><i class="fa-solid fa-blog"></i> Blog</a> |
    <a href="https://docs.diegobarrosaraya.com/"><i class="fa-solid fa-book"></i> Docs</a>
    <button class="theme-toggle" aria-label="Toggle dark/light mode" style="vertical-align:middle;"><i
        class="fa-solid fa-moon"></i></button>
  </nav>
  <div id="main-content" class="container">
    {{ content }}
    <div id="mermaid-container"></div>
  </div>
  <footer class="site-footer">
    <div class="footer-links">
      <span><i class="fa-solid fa-envelope"></i> <a href="mailto:{{ site.data.social.email }}">{{ site.data.social.email
          }}</a></span>
      <span><i class="fa-brands fa-linkedin"></i> <a href="{{ site.data.social.linkedin }}"
          target="_blank">LinkedIn</a></span>
      <span><i class="fa-brands fa-github"></i> <a href="{{ site.data.social.github }}"
          target="_blank">GitHub</a></span>
      <span><i class="fa-solid fa-blog"></i> <a href="https://blog.diegobarrosaraya.com/">Blog</a> <span>|</span> <i
          class="fa-solid fa-rss"></i> <a href="https://blog.diegobarrosaraya.com/feed.xml">RSS</a></span>
      <span><i class="fa-solid fa-book"></i> <a href="https://docs.diegobarrosaraya.com/">Docs</a> <span>|</span> <i
          class="fa-solid fa-rss"></i> <a href="https://docs.diegobarrosaraya.com/feed.xml">RSS</a></span>
    </div>
  </footer>
  </div>
  <!-- Mermaid.js CDN with dynamic theme support -->
  <script src="https://unpkg.com/beautiful-mermaid/dist/beautiful-mermaid.browser.global.js"></script>
  <script>
    // Function to extract Mermaid code from HTML
    function extractMermaidCodeFromHTML() {
      const mermaidCodeBlock = document.querySelector('code.language-mermaid');
      if (mermaidCodeBlock) {
        return mermaidCodeBlock.textContent;
      }
      return null;
    }

    // Function to render the diagram
    async function renderDiagram(mermaidCode) {
      const {renderMermaid, THEMES} = beautifulMermaid;
      const svg = await renderMermaid(mermaidCode, {
        bg: '#212121',  // Background
        fg: '#82AAFF',  // Foreground
      });
      // Insert the SVG into the container
      const container = document.getElementById('mermaid-container');
      if (container) {
        container.innerHTML = svg;
      }
    }

    // Extract Mermaid code from the HTML content
    const mermaidCode = extractMermaidCodeFromHTML();

    if (mermaidCode) {
      renderDiagram(mermaidCode);
    } else {
      console.log('No Mermaid diagram found in the HTML content.');
    }
  </script>

  <!-- Theme management is handled by shared-theme.js -->
  <!-- Fallback script in case shared-theme.js fails to load -->
  <script>
    // Simple fallback theme toggle if shared script fails
    if (!window.ThemeManager) {
      const btn = document.querySelector('.theme-toggle');
      btn && btn.addEventListener('click', () => {
        const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'light' : 'dark';
        document.documentElement.setAttribute('data-theme', theme);
        localStorage.setItem('theme', theme);
        btn.innerHTML = theme === 'dark' ? '<i class="fa-solid fa-sun"></i>' : '<i class="fa-solid fa-moon"></i>';

        // Dispatch theme change event for mermaid
        document.dispatchEvent(new CustomEvent('themeChanged'));
      });

      // Simple initialization
      const saved = localStorage.getItem('theme') || (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light');
      document.documentElement.setAttribute('data-theme', saved);
      btn && (btn.innerHTML = saved === 'dark' ? '<i class="fa-solid fa-sun"></i>' : '<i class="fa-solid fa-moon"></i>');
    }
  </script>

</body>

</html>